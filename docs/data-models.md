# Data Models

> Auto-generated by Document Project workflow on 2026-02-13.
> Mode: initial_scan | Scan Level: exhaustive

## Overview

Shooting Star does not use a traditional database. All content is stored as **static TypeScript data files** in `app/data/`. Form submissions are processed server-side and forwarded via email (Resend API) without persistence.

The data architecture follows a **content-as-code** pattern where page content is co-located with the application source code.

## Validation Schemas

### Contact Form Schema (`app/lib/contact-form-schema.ts`)

The only structured data validation in the application uses Zod:

```typescript
import { z } from "zod";

export const contactFormSchema = z.object({
  name: z.string().min(2).max(100).transform(sanitizeInput),
  email: z.string().email(),
  availability: z.string().optional(),
  message: z.string().min(10).max(2000).transform(sanitizeInput),
});

export type ContactFormData = z.infer<typeof contactFormSchema>;
```

| Field          | Type    | Constraints   | Transform                            |
| -------------- | ------- | ------------- | ------------------------------------ |
| `name`         | string  | 2-100 chars   | `sanitizeInput()` — strips HTML tags |
| `email`        | string  | Valid email   | None                                 |
| `availability` | string? | Optional      | None                                 |
| `message`      | string  | 10-2000 chars | `sanitizeInput()` — strips HTML tags |

### Input Sanitization (`app/lib/form-security.ts`)

```typescript
export function sanitizeInput(input: string): string {
  let sanitized = input;
  let prev;
  do {
    prev = sanitized;
    sanitized = sanitized.replace(/<[^>]*>/g, "");
  } while (sanitized !== prev);
  return sanitized.trim();
}
```

- Iteratively removes all HTML/angle bracket patterns
- Handles nested tags (e.g., `<<script>script>`)
- Applied via Zod transforms on name and message fields

## Static Content Data Files

### `app/data/home.ts`

```typescript
export const servicesData: ServiceItem[] = [
  { title, description, icon?, href, buttonText }  // × 3 services
];
```

| Export         | Type            | Content                                     |
| -------------- | --------------- | ------------------------------------------- |
| `servicesData` | `ServiceItem[]` | 3 service cards: Doula, Yoga, Féminin Sacré |

### `app/data/about.ts`

```typescript
export const inspirationItems: MethodItem[] = [
  { title, description }, // × 3 items
];
```

| Export             | Type           | Content                                                 |
| ------------------ | -------------- | ------------------------------------------------------- |
| `inspirationItems` | `MethodItem[]` | 3 methodology items: Holistique, Bienveillante, Engagée |

### `app/data/doula.ts`

```typescript
export const doulaServices: ServiceItem[]; // 9 services
export const doulaTestimonials: Testimonial[]; // 3 testimonials
export const approachItems: ApproachItem[]; // 5 approach phases
```

| Export              | Type             | Content                                              |
| ------------------- | ---------------- | ---------------------------------------------------- |
| `doulaServices`     | `ServiceItem[]`  | 9 doula services (prenatal, birth, postpartum, etc.) |
| `doulaTestimonials` | `Testimonial[]`  | 3 client testimonials with author and context        |
| `approachItems`     | `ApproachItem[]` | 5 maternal journey phases (pregnancy → postpartum)   |

### `app/data/feminin-sacre.ts`

```typescript
export const eventsData: EventCardProps[]; // 3 events
export const introText: string;
```

| Export       | Type               | Content                       |
| ------------ | ------------------ | ----------------------------- |
| `eventsData` | `EventCardProps[]` | 3 workshop/event placeholders |
| `introText`  | `string`           | Section introduction text     |

### `app/data/call-to-action.ts`

```typescript
export const defaultCtaContent: Partial<CallToActionProps>;
```

| Export              | Type                         | Content                                                 |
| ------------------- | ---------------------------- | ------------------------------------------------------- |
| `defaultCtaContent` | `Partial<CallToActionProps>` | Shared CTA content (title, subtitle, button → /contact) |

## TypeScript Interfaces (Data Shapes)

### Component Prop Types (serve as data contracts)

```typescript
// ServiceItem (services grid)
interface ServiceItem {
  title: string;
  description: string;
  icon?: string;
  href?: string;
  buttonText?: string;
  onClick?: () => void;
}

// Testimonial (carousel)
interface Testimonial {
  author: string;
  quote: string;
  context?: string;
}

// ApproachItem (doula approach section)
interface ApproachItem {
  title: string;
  description: string;
}

// MethodItem (about methodology)
interface MethodItem {
  title: string;
  description: string;
}

// EventCardProps (sacred feminine events)
interface EventCardProps {
  title: string;
  date: string; // French format: "7 Juin 2025"
  time: string; // 24h format: "14:00"
  location?: string;
  imageSrc?: string;
  imageAlt?: string;
  onClick?: () => void;
}

// ContactFormData (form submission)
interface ContactFormData {
  name: string;
  email: string;
  availability?: string;
  message: string;
}
```

## Data Flow

```
Static Data Files (app/data/)
    │
    ├── Imported directly by route components
    │   home.tsx ← home.ts (servicesData)
    │   about.tsx ← about.ts (inspirationItems)
    │   doula.tsx ← doula.ts (services, testimonials, approach)
    │   feminin-sacre.tsx ← feminin-sacre.ts (events, intro)
    │
    └── Shared across pages via default exports
        DefaultCallToAction ← call-to-action.ts (defaultCtaContent)

Contact Form Data Flow:
    Client Form → POST /contact → Zod Validation → Sanitization → Resend API → Email
    (no database persistence)
```

## Future Considerations

The current static data approach works well for a small content site but may need evolution:

- **CMS Integration**: If content needs to be updated frequently, a headless CMS (e.g., Sanity, Strapi) could replace the static data files
- **Database**: If booking/scheduling features are added, a database (e.g., PostgreSQL via Prisma) would be needed
- **Content Cache**: For CMS-sourced content, React Router loaders with caching would handle data fetching
